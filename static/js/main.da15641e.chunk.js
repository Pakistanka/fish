(this.webpackJsonppsy_guide=this.webpackJsonppsy_guide||[]).push([[0],{28:function(e,t,c){},37:function(e,t,c){},38:function(e,t,c){},39:function(e,t,c){},55:function(e,t,c){},63:function(e,t,c){},64:function(e,t,c){},65:function(e,t,c){},66:function(e,t,c){},67:function(e,t,c){},68:function(e,t,c){},69:function(e,t,c){},70:function(e,t,c){"use strict";c.r(t);var r=c(3),a=c.n(r),n=c(40),s=c.n(n),i=c(6),o=c.n(i),l=c(19),u=c(10),d=c(4),j=c(13),b=c(23),O=(c(51),c(52),c(53),{apiKey:Object({NODE_ENV:"production",PUBLIC_URL:"/fish",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_API_KEY,authDomain:Object({NODE_ENV:"production",PUBLIC_URL:"/fish",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_AUTH_DOMAIN,projectId:Object({NODE_ENV:"production",PUBLIC_URL:"/fish",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_PROJECT_ID,storageBucket:Object({NODE_ENV:"production",PUBLIC_URL:"/fish",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_STORAGE_BUCKET,messagingSenderId:Object({NODE_ENV:"production",PUBLIC_URL:"/fish",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_MESSAGING_SENDER_ID,appId:Object({NODE_ENV:"production",PUBLIC_URL:"/fish",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}).REACT_APP_FIREBASE_APP_ID}),f=b.a.initializeApp(O),h=b.a.auth(),m=f.database(),p=b.a.storage(),x=(b.a.firestore(),c(2)),v=a.a.createContext();function g(){return Object(r.useContext)(v)}function N(e){var t=e.children,c=Object(r.useState)(),a=Object(d.a)(c,2),n=a[0],s=a[1],i=Object(r.useState)(null),b=Object(d.a)(i,2),O=b[0],f=b[1],m=Object(r.useState)(!0),p=Object(d.a)(m,2),g=p[0],N=p[1],_=Object(r.useState)(),y=Object(d.a)(_,2),S=y[0],C=y[1],k=Object(r.useState)([]),A=Object(d.a)(k,2),w=A[0],E=A[1],R=Object(r.useState)(),I=Object(d.a)(R,2),P=I[0],T=I[1],D=Object(r.useState)(0),q=Object(d.a)(D,2),U=q[0],F=q[1],B=Object(r.useState)(0),G=Object(d.a)(B,2),L=G[0],H=G[1],W=Object(r.useState)(0),K=Object(d.a)(W,2),M=K[0],V=K[1],J=Object(r.useState)(null),X=Object(d.a)(J,2),Y=X[0],Q=X[1];function z(){return(z=Object(u.a)(o.a.mark((function e(t,c,r,a){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j.a.auth().createUserWithEmailAndPassword(t,c).then((function(e){return j.a.firestore().collection("users").doc(e.user.uid).set({firstname:r,email:t,phone:a,user_role:"user",created_at:j.a.firestore.Timestamp.now()}).catch((function(e){console.log("Error while creating user "+e)}))})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function Z(){return(Z=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",j.a.firestore().collection("users").doc(j.a.auth().currentUser.uid).get().then((function(e){var t=e.data();return f(t),t.email=j.a.auth().currentUser.email,t})));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function $(){return($=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.a.firestore().collection("goods").doc(S).get().then((function(e){var t=e.data();T(t)})).catch((function(e){console.log("Error getting documents",e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ee(){return(ee=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("Item updated!");case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function te(){return(te=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:j.a.firestore().collection("goods").doc(t).delete().catch((function(e){console.error(e)}));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ce(){return(ce=Object(u.a)(o.a.mark((function e(){var t;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:console.log("creating order!"),t=JSON.parse(JSON.stringify(w));try{N(!0),j.a.firestore().collection("orders").add({total_price:U,total_weight:L,status:1,cart:t,created_at:j.a.firestore.Timestamp.now()}),E([])}catch(c){console.log("Failed to create new order")}N(!1);case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function re(){return(re=Object(u.a)(o.a.mark((function e(t,c){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.signInWithEmailAndPassword(t,c));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ae(){return(ae=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.signOut());case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ne(){return(ne=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",h.sendPasswordResetEmail(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function se(){return(se=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.updateEmail(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function ie(){return(ie=Object(u.a)(o.a.mark((function e(t){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",n.updatePassword(t));case 1:case"end":return e.stop()}}),e)})))).apply(this,arguments)}Object(r.useEffect)((function(){var e=0;w.forEach((function(t){e+=t.price*t.quantity})),F(e)}),[w]),Object(r.useEffect)((function(){var e=0;w.forEach((function(t){e+=t.weight*t.quantity})),H(e)}),[w]),Object(r.useEffect)((function(){var e=0;w.forEach((function(t){e+=t.quantity})),V(e)}),[w]),Object(r.useEffect)((function(){return h.onAuthStateChanged((function(e){s(e),N(!1)}))}),[]);var oe={currentUser:n,userInfo:O,setUserInfo:f,getProfile:function(){return Z.apply(this,arguments)},login:function(e,t){return re.apply(this,arguments)},signup:function(e,t,c,r){return z.apply(this,arguments)},logout:function(){return ae.apply(this,arguments)},resetPassword:function(e){return ne.apply(this,arguments)},updateEmail:function(e){return se.apply(this,arguments)},updatePassword:function(e){return ie.apply(this,arguments)},goodiId:S,setGoodiId:C,cart:w,setCart:E,goodiInfo:P,setGoodiInfo:T,url:Y,setUrl:Q,goodsToCart:function(e,t,c,r,a){var n=function(){E([].concat(Object(l.a)(w),[{id:e,title:t,weight:c,price:r,url:a,quantity:1}]))};if(w.length>0){var s=0;w.forEach((function(t){t.id===e&&(t.quantity=t.quantity+1,s=1)}));var i=Object(l.a)(w);E(i),s<1&&n()}else n()},getCatalogueItemInfo:function(){return $.apply(this,arguments)},updateCatalogueItem:function(e){return ee.apply(this,arguments)},deleteCatalogueItem:function(e){return te.apply(this,arguments)},createOrder:function(){return ce.apply(this,arguments)},addQuantity:function(e){w.forEach((function(t){t.id===e&&(t.quantity=t.quantity+1)}));var t=Object(l.a)(w);E(t)},minusQuantity:function(e){w.forEach((function(t){t.id===e&&(t.quantity<1?t.quantity=0:t.quantity=t.quantity-1)}));var t=Object(l.a)(w);E(t)},deleteCartItem:function(e){var t=w.filter((function(t){return t.id!==e}));E(t)},totalPrice:U,totalWeight:L,totalNumber:M};return Object(x.jsx)(v.Provider,{value:oe,children:!g&&t})}var _=c(7),y=c(12);c(55);function S(){var e=g().signup,t=Object(r.useState)(""),c=Object(d.a)(t,2),a=c[0],n=c[1],s=Object(r.useState)(!1),i=Object(d.a)(s,2),l=i[0],j=i[1],b=Object(y.g)(),O=Object(r.useRef)(),f=Object(r.useRef)(),h=Object(r.useRef)(),m=Object(r.useRef)(),p=Object(r.useRef)();function v(){return(v=Object(u.a)(o.a.mark((function t(c){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:if(c.preventDefault(),m.current.value===p.current.value){t.next=3;break}return t.abrupt("return",n("Passwords do not match"));case 3:return t.prev=3,n(""),j(!0),t.next=8,e(f.current.value,m.current.value,O.current.value,h.current.value);case 8:b.push("/dashboard"),t.next=14;break;case 11:t.prev=11,t.t0=t.catch(3),n("Failed to create an account");case 14:j(!1);case 15:case"end":return t.stop()}}),t,null,[[3,11]])})))).apply(this,arguments)}return Object(x.jsx)("div",{className:"page",children:Object(x.jsxs)("div",{className:"wrapper",children:[Object(x.jsx)("div",{className:"h1",children:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"}),a&&Object(x.jsx)("div",{children:a}),Object(x.jsxs)("form",{className:"form",onSubmit:function(e){return v.apply(this,arguments)},children:[Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("input",{type:"text",placeholder:"Name",name:"name",ref:O,required:!0})}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("input",{type:"email",placeholder:"Email Address",name:"email",ref:f,required:!0})}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("input",{type:"tel",placeholder:"Phone Number",name:"phone",ref:h,required:!0})}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("input",{type:"password",placeholder:"Password",name:"password",ref:m,required:!0})}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("input",{type:"password",placeholder:"Confirm Password",name:"password2",ref:p,required:!0})}),Object(x.jsx)("input",{type:"submit",disabled:l,className:"submitBtn",value:"\u0420\u0435\u0433\u0438\u0441\u0442\u0440\u0430\u0446\u0438\u044f"})]}),Object(x.jsxs)("div",{className:"confirmation",children:["\u0423\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442? ",Object(x.jsx)(_.b,{to:"/login",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})}c(63);function C(){var e=g().login,t=Object(r.useState)(""),c=Object(d.a)(t,2),a=c[0],n=c[1],s=Object(r.useState)(!1),i=Object(d.a)(s,2),l=i[0],j=i[1],b=Object(y.g)(),O=Object(r.useRef)(),f=Object(r.useRef)();function h(){return(h=Object(u.a)(o.a.mark((function t(c){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return c.preventDefault(),t.prev=1,n(""),j(!0),t.next=6,e(O.current.value,f.current.value);case 6:b.push("/orders"),t.next=12;break;case 9:t.prev=9,t.t0=t.catch(1),n("Failed to log in");case 12:j(!1);case 13:case"end":return t.stop()}}),t,null,[[1,9]])})))).apply(this,arguments)}return Object(x.jsxs)("div",{className:"login",children:[Object(x.jsxs)("div",{className:"wrapper",children:[Object(x.jsxs)("div",{className:"form_text",children:["\u0423 \u0432\u0430\u0441 \u0443\u0436\u0435 \u0435\u0441\u0442\u044c \u0430\u043a\u043a\u0430\u0443\u043d\u0442?",Object(x.jsx)("br",{}),"\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0434\u0430\u043d\u043d\u044b\u0435 \u0447\u0442\u043e\u0431\u044b \u0432\u043e\u0439\u0442\u0438:"]}),a&&Object(x.jsx)("div",{children:a}),Object(x.jsxs)("form",{className:"form",onSubmit:function(e){return h.apply(this,arguments)},children:[Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("input",{type:"email",placeholder:"Email Address",name:"email",ref:O,required:!0})}),Object(x.jsx)("div",{className:"form-group",children:Object(x.jsx)("input",{type:"password",placeholder:"Password",name:"password",ref:f,required:!0})}),Object(x.jsx)("input",{type:"submit",disabled:l,className:"submitBtn",value:"\u0412\u043e\u0439\u0442\u0438"})]})]}),Object(x.jsx)("div",{className:"",children:Object(x.jsx)(_.b,{to:"/signup",children:"\u0417\u0430\u0440\u0435\u0433\u0438\u0441\u0442\u0440\u0438\u0440\u043e\u0432\u0430\u0442\u044c\u0441\u044f"})}),Object(x.jsx)(_.b,{to:"/forgot-password",children:"\u0417\u0430\u0431\u044b\u043b\u0438 \u043f\u0430\u0440\u043e\u043b\u044c?"})]})}var k=function(){return Object(x.jsx)("div",{children:"Notifications"})},A=function(e){var t=Object(r.useState)(0),c=Object(d.a)(t,2),a=c[0],n=c[1],s=Object(r.useState)(null),i=Object(d.a)(s,2),l=i[0],j=i[1],b=g(),O=b.url,f=b.setUrl;return Object(r.useEffect)((function(){var t=p.ref(e.name);t.put(e).on("state_changed",(function(e){var t=e.bytesTransferred/e.totalBytes*100;n(t)}),(function(e){j(e)}),Object(u.a)(o.a.mark((function e(){var c;return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.getDownloadURL();case 2:c=e.sent,f(c);case 4:case"end":return e.stop()}}),e)}))))}),[e]),{progress:a,url:O,error:l}};c(37),c(38);var w=function(e){var t=e.file,c=e.setFile,a=(e.currentFile,A(t)),n=a.progress,s=a.url;return Object(r.useEffect)((function(){s&&c(null)}),[s,c]),Object(x.jsxs)("div",{className:"add-item progressBar",children:[n,"%"]})};function E(){var e=Object(y.g)(),t=g().url,c=Object(r.useState)(""),a=Object(d.a)(c,2),n=a[0],s=a[1],i=Object(r.useState)(!1),b=Object(d.a)(i,2),O=b[0],f=b[1],h=Object(r.useState)(null),m=Object(d.a)(h,2),p=m[0],v=m[1],N=Object(r.useState)(!0),_=Object(d.a)(N,2),S=_[0],C=_[1],k=Object(r.useState)([]),A=Object(d.a)(k,2),E=A[0],R=A[1],I=Object(r.useState)(!1),P=Object(d.a)(I,2),T=P[0],D=P[1],q=Object(r.useState)(!1),U=Object(d.a)(q,2),F=U[0],B=U[1],G=Object(r.useState)(!1),L=Object(d.a)(G,2),H=L[0],W=L[1],K=Object(r.useState)(!1),M=Object(d.a)(K,2),V=M[0],J=M[1],X=Object(r.useState)(!1),Y=Object(d.a)(X,2),Q=Y[0],z=Y[1],Z=Object(r.useState)(!1),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ce=Object(r.useState)(!1),re=Object(d.a)(ce,2),ae=re[0],ne=re[1],se=Object(r.useState)(!1),ie=Object(d.a)(se,2),oe=ie[0],le=ie[1],ue=Object(r.useState)(!1),de=Object(d.a)(ue,2),je=de[0],be=de[1],Oe=Object(r.useRef)(),fe=Object(r.useRef)(),he=Object(r.useRef)(),me=Object(r.useRef)(),pe=Object(r.useRef)(),xe=Object(r.useRef)();function ve(){return(ve=Object(u.a)(o.a.mark((function c(r){return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:r.preventDefault();try{f(!0),j.a.firestore().collection("goods").add({title:Oe.current.value,weight:fe.current.value,price:he.current.value,category:E,position:me.current.value,details:pe.current.value,video:xe.current.value,url:t,in_stock:S,created_at:j.a.firestore.Timestamp.now()}),e.push("/")}catch(a){s("Failed to create a request")}f(!1);case 3:case"end":return c.stop()}}),c)})))).apply(this,arguments)}var ge=["image/png","image/jpeg"],Ne=function(e){var t=0;E.length>0?(E.forEach((function(c){c==e&&(t+=1,R(E.filter((function(t){return t!==e}))))})),t<1&&(R((function(t){return[].concat(Object(l.a)(t),[e])})),t-=1)):R((function(t){return[].concat(Object(l.a)(t),[e])}))};return Object(x.jsx)("div",{className:"page",children:Object(x.jsx)("div",{className:"form wrapper add-item",children:Object(x.jsxs)("form",{className:"form__form",onSubmit:function(e){return ve.apply(this,arguments)},children:[Object(x.jsxs)("label",{className:"form-group add-image",children:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",Object(x.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&ge.includes(t.type)?(v(t),s("")):(v(null),s("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f (png/jpeg)"))},className:"form__input visibility-hidden"}),Object(x.jsx)("span",{children:"+"})]}),p&&Object(x.jsx)("div",{children:p.name}),p&&Object(x.jsx)(w,{file:p,setFile:v}),Object(x.jsx)("div",{children:n&&Object(x.jsx)("div",{children:n})}),Object(x.jsxs)("label",{className:"form-group",children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",Object(x.jsx)("input",{type:"text",placeholder:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",name:"title",ref:Oe,required:!0})]}),Object(x.jsxs)("label",{className:"form-group",children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0441 \u0442\u043e\u0432\u0430\u0440\u0430 (\u0432 \u0433\u0440\u0430\u043c\u043c\u0430\u0445)",Object(x.jsx)("input",{type:"number",placeholder:"\u0412\u0435\u0441",name:"weight",ref:fe})]}),Object(x.jsxs)("label",{className:"form-group",children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0446\u0435\u043d\u0443 \u0442\u043e\u0432\u0430\u0440\u0430",Object(x.jsx)("input",{type:"number",placeholder:"\u0426\u0435\u043d\u0430",name:"price",ref:he})]}),Object(x.jsxs)("label",{className:"form-group",children:["\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043e\u0434\u043d\u0443 / \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u0442\u043e\u0432\u0430\u0440\u0430:",Object(x.jsxs)("div",{className:"category-grid",children:[Object(x.jsx)("div",{onClick:function(){return D(!T),void Ne("fish")},style:T?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item fish",children:"\u0420\u044b\u0431\u0430"}),Object(x.jsx)("div",{onClick:function(){return B(!F),void Ne("meat")},style:F?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item meat",children:"\u041c\u044f\u0441\u043e"}),Object(x.jsx)("div",{onClick:function(){return W(!H),void Ne("smoke")},style:H?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item smoke",children:"\u041a\u043e\u043f\u0447\u0435\u043d\u043e\u0441\u0442\u044c"}),Object(x.jsx)("div",{onClick:function(){return J(!V),void Ne("salt")},style:V?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item salt",children:"\u0421\u043e\u043b\u0435\u043d\u0430\u044f"}),Object(x.jsx)("div",{onClick:function(){return z(!Q),void Ne("lsalt")},style:Q?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item light-salt",children:"\u0421\u043b\u0430\u0431\u043e\u0441\u043e\u043b\u0435\u043d\u0430\u044f"}),Object(x.jsx)("div",{onClick:function(){return te(!ee),void Ne("seafood")},style:ee?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item seafood",children:"\u041c\u043e\u0440\u0435\u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b"}),Object(x.jsx)("div",{onClick:function(){return ne(!ae),void Ne("caviar")},style:ae?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item caviar",children:"\u0418\u043a\u0440\u0430"}),Object(x.jsx)("div",{onClick:function(){return le(!oe),void Ne("dryfruit")},style:oe?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item dry-fruits",children:"\u0421\u0443\u0445\u043e\u0444\u0440\u0443\u043a\u0442\u044b"}),Object(x.jsx)("div",{onClick:function(){return be(!je),void Ne("delica")},style:je?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item delica",children:"\u0414\u0435\u043b\u0438\u043a\u0430\u0442\u0435\u0441\u044b"})]})]}),Object(x.jsxs)("label",{className:"form-group",children:["\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u0435 \u043f\u043e\u0437\u0438\u0446\u0438\u044e \u0442\u043e\u0432\u0430\u0440\u0430",Object(x.jsx)("input",{type:"",placeholder:"\u0420\u0430\u0437\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0432\u043d\u0438\u0437\u0443/\u0432\u0432\u0435\u0440\u0445\u0443 \u0441\u043f\u0438\u0441\u043a\u0430",name:"position",ref:me,required:!0})]}),Object(x.jsxs)("label",{className:"form-group",children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",Object(x.jsx)("textarea",{type:"text",rows:"9",cols:"50",placeholder:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",name:"order",ref:pe,required:!0})]}),Object(x.jsxs)("label",{className:"form-group",children:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0432\u0438\u0434\u0435\u043e \u043e \u0442\u043e\u0432\u0430\u0440\u0435",Object(x.jsx)("input",{type:"text",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0432\u0438\u0434\u0435\u043e",name:"video",ref:xe})]}),Object(x.jsxs)("label",{className:"form-group",children:["\u0415\u0441\u0442\u044c \u043b\u0438 \u0442\u043e\u0432\u0430\u0440 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0435?",Object(x.jsxs)("div",{className:"question",children:[Object(x.jsx)("div",{className:"optionbtn yes",onClick:function(){C(!0)},children:"\u0414\u0430"}),S?Object(x.jsx)("div",{className:"instock yes",children:"\u0422\u043e\u0432\u0430\u0440 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u0442\u0441\u044f"}):Object(x.jsx)("div",{className:"instock no",children:"\u0422\u043e\u0432\u0430\u0440 \u0441\u043a\u0440\u044b\u0442"}),Object(x.jsx)("div",{className:"optionbtn no",onClick:function(){C(!1)},children:"\u041d\u0435\u0442"})]})]}),Object(x.jsx)("button",{className:"add-item__button",type:"submit",disabled:O,value:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440 \u0432 \u043a\u0430\u0442\u0430\u043b\u043e\u0433",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440 \u0432 \u043a\u0430\u0442\u0430\u043b\u043e\u0433"})]})})})}var R=function(){var e=Object(y.g)(),t=g(),c=t.goodiId,a=t.goodiInfo,n=t.url,s=t.setUrl,i=["image/png","image/jpeg"],b=Object(r.useState)(""),O=Object(d.a)(b,2),f=O[0],h=O[1],m=Object(r.useState)(!1),p=Object(d.a)(m,2),v=p[0],N=(p[1],Object(r.useState)(null)),_=Object(d.a)(N,2),S=_[0],C=_[1],k=Object(r.useState)(!0),A=Object(d.a)(k,2),E=A[0],R=A[1],I=Object(r.useState)([]),P=Object(d.a)(I,2),T=P[0],D=P[1],q=Object(r.useState)(!1),U=Object(d.a)(q,2),F=U[0],B=U[1],G=Object(r.useState)(!1),L=Object(d.a)(G,2),H=L[0],W=L[1],K=Object(r.useState)(!1),M=Object(d.a)(K,2),V=M[0],J=M[1],X=Object(r.useState)(!1),Y=Object(d.a)(X,2),Q=Y[0],z=Y[1],Z=Object(r.useState)(!1),$=Object(d.a)(Z,2),ee=$[0],te=$[1],ce=Object(r.useState)(!1),re=Object(d.a)(ce,2),ae=re[0],ne=re[1],se=Object(r.useState)(!1),ie=Object(d.a)(se,2),oe=ie[0],le=ie[1],ue=Object(r.useState)(!1),de=Object(d.a)(ue,2),je=de[0],be=de[1],Oe=Object(r.useState)(!1),fe=Object(d.a)(Oe,2),he=fe[0],me=fe[1],pe=Object(r.useRef)(),xe=Object(r.useRef)(),ve=Object(r.useRef)(),ge=Object(r.useRef)(),Ne=Object(r.useRef)(),_e=Object(r.useRef)();function ye(){return(ye=Object(u.a)(o.a.mark((function t(r){return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:r.preventDefault(),console.log("Updating!"),j.a.firestore().collection("goods").doc(c).update({title:pe.current.value,weight:xe.current.value,price:ve.current.value,category:T,position:ge.current.value,details:Ne.current.value,video:_e.current.value,url:n,in_stock:E}).then((function(){console.log("Document successfully updated!")})).catch((function(e){console.error("Error updating document: ",e)})),e.push("/goodi/:id");case 4:case"end":return t.stop()}}),t)})))).apply(this,arguments)}Object(r.useEffect)((function(){s(a.url),R(a.in_stock),a.category&&a.category.forEach((function(e){"fish"===e&&Ce(),"meat"===e&&ke(),"smoke"===e&&Ae(),"salt"===e&&we(),"lsalt"===e&&Ee(),"seafood"===e&&Re(),"dryfruit"===e&&Ie(),"delica"===e&&Pe()}))}),[]);var Se=function(e){var t=0;T.length>0?(T.forEach((function(c){c==e&&(t+=1,D(T.filter((function(t){return t!==e}))))})),t<1&&(D((function(t){return[].concat(Object(l.a)(t),[e])})),t-=1)):D((function(t){return[].concat(Object(l.a)(t),[e])}))},Ce=function(){B(!F),Se("fish")},ke=function(){W(!H),Se("meat")},Ae=function(){J(!V),Se("smoke")},we=function(){z(!Q),Se("salt")},Ee=function(){te(!ee),Se("lsalt")},Re=function(){ne(!ae),Se("seafood")},Ie=function(){be(!je),Se("dryfruit")},Pe=function(){me(!he),Se("delica")};return Object(x.jsx)("div",{className:"form",children:Object(x.jsxs)("form",{className:"form__form",onSubmit:function(e){return ye.apply(this,arguments)},children:[Object(x.jsxs)("div",{className:"form__imgFrame",children:[Object(x.jsx)("img",{className:"form__imagebox",src:a.url,alt:"Goodi image"}),Object(x.jsxs)("label",{className:"form-group add-image",children:["\u0417\u0430\u043c\u0435\u043d\u0438\u0442\u044c \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u0435",Object(x.jsx)("input",{type:"file",onChange:function(e){var t=e.target.files[0];t&&i.includes(t.type)?(C(t),h("")):(C(null),h("\u0412\u044b\u0431\u0435\u0440\u0438\u0442\u0435 \u0434\u0440\u0443\u0433\u043e\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0438\u0437\u043e\u0431\u0440\u0430\u0436\u0435\u043d\u0438\u044f (png/jpeg)"))},className:"form__input visibility-hidden"}),Object(x.jsx)("span",{children:"+"})]})]}),S&&Object(x.jsx)("div",{children:S.name}),S&&Object(x.jsx)(w,{file:S,setFile:C}),Object(x.jsx)("div",{children:f&&Object(x.jsx)("div",{children:f})}),Object(x.jsxs)("label",{className:"form-group",children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",Object(x.jsx)("input",{type:"text",placeholder:"\u041d\u0430\u0438\u043c\u0435\u043d\u043e\u0432\u0430\u043d\u0438\u0435",ref:pe,required:!0,defaultValue:a.title})]}),Object(x.jsxs)("label",{className:"form-group",children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0432\u0435\u0441 \u0442\u043e\u0432\u0430\u0440\u0430 (\u0432 \u0433\u0440\u0430\u043c\u043c\u0430\u0445)",Object(x.jsx)("input",{type:"number",placeholder:"\u0412\u0435\u0441",ref:xe,defaultValue:a.weight})]}),Object(x.jsxs)("label",{className:"form-group",children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u0446\u0435\u043d\u0443 \u0442\u043e\u0432\u0430\u0440\u0430",Object(x.jsx)("input",{type:"number",placeholder:"\u0426\u0435\u043d\u0430",ref:ve,defaultValue:a.price})]}),Object(x.jsxs)("label",{className:"form-group",children:["\u0423\u043a\u0430\u0436\u0438\u0442\u0435 \u043e\u0434\u043d\u0443 / \u043d\u0435\u0441\u043a\u043e\u043b\u044c\u043a\u043e \u043a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0439 \u0442\u043e\u0432\u0430\u0440\u0430:",Object(x.jsxs)("div",{className:"category-grid",children:[Object(x.jsx)("div",{onClick:function(){return Ce()},style:F?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item fish",children:"\u0420\u044b\u0431\u0430"}),Object(x.jsx)("div",{onClick:function(){return ke()},style:H?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item meat",children:"\u041c\u044f\u0441\u043e"}),Object(x.jsx)("div",{onClick:function(){return Ae()},style:V?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item smoke",children:"\u041a\u043e\u043f\u0447\u0435\u043d\u043e\u0441\u0442\u044c"}),Object(x.jsx)("div",{onClick:function(){return we()},style:Q?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item salt",children:"\u0421\u043e\u043b\u0435\u043d\u0430\u044f"}),Object(x.jsx)("div",{onClick:function(){return Ee()},style:ee?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item light-salt",children:"\u0421\u043b\u0430\u0431\u043e\u0441\u043e\u043b\u0435\u043d\u0430\u044f"}),Object(x.jsx)("div",{onClick:function(){return Re()},style:ae?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item seafood",children:"\u041c\u043e\u0440\u0435\u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b"}),Object(x.jsx)("div",{onClick:function(){return le(!oe),void Se("caviar")},style:oe?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item caviar",children:"\u0418\u043a\u0440\u0430"}),Object(x.jsx)("div",{onClick:function(){return Ie()},style:je?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item dry-fruits",children:"\u0421\u0443\u0445\u043e\u0444\u0440\u0443\u043a\u0442\u044b"}),Object(x.jsx)("div",{onClick:function(){return Pe()},style:he?{backgroundColor:"rgb(113, 216, 110)"}:{},className:"grid-item delica",children:"\u0414\u0435\u043b\u0438\u043a\u0430\u0442\u0435\u0441\u044b"})]})]}),Object(x.jsxs)("label",{className:"form-group",children:["\u041e\u043f\u0440\u0435\u0434\u0435\u043b\u0438\u0442\u0435 \u043f\u043e\u0437\u0438\u0446\u0438\u044e \u0442\u043e\u0432\u0430\u0440\u0430",Object(x.jsx)("input",{type:"",placeholder:"\u0420\u0430\u0437\u043c\u0435\u0441\u0442\u0438\u0442\u044c \u0432\u043d\u0438\u0437\u0443/\u0432\u0432\u0435\u0440\u0445\u0443 \u0441\u043f\u0438\u0441\u043a\u0430",ref:ge,required:!0,defaultValue:a.position})]}),Object(x.jsxs)("label",{className:"form-group",children:["\u0412\u0432\u0435\u0434\u0438\u0442\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435 \u0442\u043e\u0432\u0430\u0440\u0430",Object(x.jsx)("textarea",{type:"text",rows:"9",cols:"50",placeholder:"\u041f\u043e\u0434\u0440\u043e\u0431\u043d\u043e\u0435 \u043e\u043f\u0438\u0441\u0430\u043d\u0438\u0435",ref:Ne,required:!0,defaultValue:a.details})]}),Object(x.jsxs)("label",{className:"form-group",children:["\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0441\u0441\u044b\u043b\u043a\u0443 \u043d\u0430 \u0432\u0438\u0434\u0435\u043e \u043e \u0442\u043e\u0432\u0430\u0440\u0435",Object(x.jsx)("input",{type:"text",placeholder:"\u0421\u0441\u044b\u043b\u043a\u0430 \u043d\u0430 \u0432\u0438\u0434\u0435\u043e",name:"video",ref:_e,defaultValue:a.video})]}),Object(x.jsxs)("label",{className:"form-group",children:["\u0415\u0441\u0442\u044c \u043b\u0438 \u0442\u043e\u0432\u0430\u0440 \u0432 \u043d\u0430\u043b\u0438\u0447\u0438\u0435?",Object(x.jsxs)("div",{className:"question",children:[Object(x.jsx)("div",{className:"optionbtn yes",onClick:function(){R(!0)},children:"\u0414\u0430"}),E?Object(x.jsx)("div",{className:"instock yes",children:"\u0422\u043e\u0432\u0430\u0440 \u043e\u0442\u043e\u0431\u0440\u0430\u0436\u0435\u0442\u0441\u044f"}):Object(x.jsx)("div",{className:"instock no",children:"\u0422\u043e\u0432\u0430\u0440 \u0441\u043a\u0440\u044b\u0442"}),Object(x.jsx)("div",{className:"optionbtn no",onClick:function(){R(!1)},children:"\u041d\u0435\u0442"})]})]}),Object(x.jsx)("input",{type:"submit",disabled:v,className:"submitBtn",value:"\u0421\u043e\u0445\u0440\u0430\u043d\u0438\u0442\u044c \u0438\u0437\u043c\u0435\u043d\u0435\u043d\u0438\u044f"})]})})},I=c(20);c(28);var P=function(e){var t=e.title,c=e.weight,r=e.price,a=e.url,n=e.in_stock,s=e.goodiToCart,i=e.goodiDetails;return Object(x.jsxs)("div",{className:"catalog__wrapper",style:n?{}:{backgroundColor:"rgb(255, 187, 187)"},children:[Object(x.jsxs)("div",{className:"catalog__info",onClick:i,children:[Object(x.jsx)("div",{className:"catalog__imgFrame",children:Object(x.jsx)("img",{className:"catalog__imagebox",src:a,alt:"Goodi image"})}),Object(x.jsxs)("div",{className:"catalog__infoFrame",children:[Object(x.jsxs)("div",{className:"catalog__name",children:[t," "]}),Object(x.jsxs)("div",{className:"catalog__weight",children:[c," \u0433"]}),Object(x.jsxs)("div",{className:"catalog__price",children:[r," \u0440\u0443\u0431"]})]})]}),Object(x.jsx)("div",{className:"catalog__buttons",children:Object(x.jsx)("button",{onClick:s,className:"add-to-cart",children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})})]})},T=(c(64),c(26));var D=function(e){var t=Object(r.useState)(!1),c=Object(d.a)(t,2),a=c[0],n=c[1],s=Object(r.useState)(!1),i=Object(d.a)(s,2),o=i[0],l=i[1],u=Object(r.useState)(!1),j=Object(d.a)(u,2),b=j[0],O=j[1],f=Object(r.useState)(!1),h=Object(d.a)(f,2),m=h[0],p=h[1],v=Object(r.useState)(!1),g=Object(d.a)(v,2),N=g[0],_=g[1],y=Object(r.useState)(!1),S=Object(d.a)(y,2),C=S[0],k=S[1],A=Object(r.useState)(!1),w=Object(d.a)(A,2),E=w[0],R=w[1],I=Object(r.useState)(!1),P=Object(d.a)(I,2),D=P[0],q=P[1],U=Object(r.useState)(!1),F=Object(d.a)(U,2),B=F[0],G=F[1],L=Object(r.useState)(!1),H=Object(d.a)(L,2),W=H[0],K=H[1],M=Object(r.useState)("\u0421\u043a\u0440\u044b\u0442\u044c"),V=Object(d.a)(M,2),J=V[0],X=V[1];return Object(x.jsx)("div",{className:"catalogue-filters",children:Object(x.jsxs)("div",{id:"hidefilters",className:"category-grid",children:[Object(x.jsx)("div",{onClick:function(){W?W&&(T.a.to("#hidefilters",.2,{x:0,y:0}),X("\u0421\u043a\u0440\u044b\u0442\u044c"),K(!W)):(T.a.to("#hidefilters",.2,{x:"-67vw",y:"18.4vh"}),X("\u041a\u0430\u0442\u0435\u0433\u043e\u0440\u0438\u0438"),K(!W))},className:"grid-item hideFilter",children:J}),Object(x.jsx)("div",{onClick:function(){e.showAllGoods()},className:"grid-item allGoods",children:"\u0412\u0441\u0435 \u0442\u043e\u0432\u0430\u0440\u044b"}),Object(x.jsx)("div",{onClick:function(){return n(!a),void e.handleFish()},className:"grid-item fish",children:"\u0420\u044b\u0431\u0430"}),Object(x.jsx)("div",{onClick:function(){return l(!o),void e.handleMeat()},className:"grid-item meat",children:"\u041c\u044f\u0441\u043e"}),Object(x.jsx)("div",{onClick:function(){return O(!b),void e.handleSmoke()},className:"grid-item smoke",children:"\u041a\u043e\u043f\u0447\u0435\u043d\u043e\u0441\u0442\u044c"}),Object(x.jsx)("div",{onClick:function(){return p(!m),void e.handleSalt()},className:"grid-item salt",children:"\u0421\u043e\u043b\u0435\u043d\u0430\u044f"}),Object(x.jsx)("div",{onClick:function(){return _(!N),void e.handleLsalt()},className:"grid-item light-salt",children:"\u0421\u043b\u0430\u0431\u043e\u0441\u043e\u043b\u0435\u043d\u0430\u044f"}),Object(x.jsx)("div",{onClick:function(){return k(!C),void e.handleSeafood()},className:"grid-item seafood",children:"\u041c\u043e\u0440\u0435\u043f\u0440\u043e\u0434\u0443\u043a\u0442\u044b"}),Object(x.jsx)("div",{onClick:function(){return R(!E),void e.handleCaviar()},className:"grid-item caviar",children:"\u0418\u043a\u0440\u0430"}),Object(x.jsx)("div",{onClick:function(){return q(!D),void e.handleDryfruits()},className:"grid-item dry-fruits",children:"\u0421\u0443\u0445\u043e\u0444\u0440\u0443\u043a\u0442\u044b"}),Object(x.jsx)("div",{onClick:function(){return G(!B),void e.handleDelica()},className:"grid-item delica",children:"\u0414\u0435\u043b\u0438\u043a\u0430\u0442\u0435\u0441\u044b"})]})})};var q=function(e){var t=e.goodsList,c=Object(y.g)(),a=g(),n=a.setGoodiId,s=a.goodsToCart,i=(a.currentUser,a.userInfo,Object(r.useState)([])),o=Object(d.a)(i,2),l=o[0],u=o[1];function j(e){u(t.filter((function(t){return t.category.includes(e)})))}Object(r.useEffect)((function(){u(t)}),[t]);var b=l.map((function(e){return Object(x.jsx)(P,{goodiToCart:function(){return s(e.id,e.title,e.weight,e.price,e.url)},goodiDetails:function(){return t=e.id,n(t),void c.push("goodi/".concat(t));var t},title:e.title,weight:e.weight,price:e.price,url:e.url,in_stock:e.in_stock},e.id)}));return Object(x.jsxs)("div",{className:"catalog",children:[Object(x.jsx)(D,{handleFish:function(){return j("fish")},handleMeat:function(){return j("meat")},handleSmoke:function(){return j("smoke")},handleSalt:function(){return j("salt")},handleLsalt:function(){return j("lsalt")},handleSeafood:function(){return j("seafood")},handleCaviar:function(){return j("caviar")},handleDryfruits:function(){return j("dryfruit")},handleDelica:function(){return j("delica")},showAllGoods:function(){u(t)}}),Object(x.jsx)("h2",{className:"catalog__goods-title",children:"\u0422\u043e\u0432\u0430\u0440\u044b"}),Object(x.jsx)("div",{className:"catalog__item-wrap",children:b||"Loading..."})]})};var U=function(e){var t=e.goodsList,c=Object(y.g)(),a=g(),n=a.setGoodiId,s=a.goodsToCart,i=(a.currentUser,a.userInfo,Object(r.useState)([])),o=Object(d.a)(i,2),l=o[0],u=o[1],j=t.filter((function(e){return!0===e.in_stock}));function b(e){u(j.filter((function(t){return t.category.includes(e)})))}Object(r.useEffect)((function(){j&&u(j)}),[t]);var O=l.map((function(e){return Object(x.jsx)(P,{goodiToCart:function(){return s(e.id,e.title,e.weight,e.price,e.url)},goodiDetails:function(){return t=e.id,n(t),void c.push("goodi/".concat(t));var t},title:e.title,weight:e.weight,price:e.price,url:e.url,in_stock:e.in_stock},e.id)}));return Object(x.jsxs)("div",{className:"catalog",children:[Object(x.jsx)(D,{handleFish:function(){return b("fish")},handleMeat:function(){return b("meat")},handleSmoke:function(){return b("smoke")},handleSalt:function(){return b("salt")},handleLsalt:function(){return b("lsalt")},handleSeafood:function(){return b("seafood")},handleCaviar:function(){return b("caviar")},handleDryfruits:function(){return b("dryfruit")},handleDelica:function(){return b("delica")},showAllGoods:function(){u(j)}}),Object(x.jsx)("h2",{className:"catalog__goods-title",children:"\u0422\u043e\u0432\u0430\u0440\u044b"}),Object(x.jsx)("div",{className:"catalog__item-wrap",children:O||"Loading..."})]})};var F=function(){Object(y.g)();var e=g(),t=e.currentUser,c=e.userInfo,a=Object(r.useState)([]),n=Object(d.a)(a,2),s=n[0],i=n[1];Object(r.useEffect)((function(){m&&j.a.firestore().collection("goods").limit(50).onSnapshot((function(e){var t=e.docs.map((function(e){return Object(I.a)(Object(I.a)({},e.data()),{},{id:e.id})}));i(t)}))}),[m]);var o=Object(x.jsx)(U,{goodsList:s});return t&&c&&"admin"===c.user_role&&(o=Object(x.jsx)(q,{goodsList:s})),Object(x.jsx)("div",{className:"catalog",children:o})};function B(){return Object(x.jsx)("div",{className:"page",children:Object(x.jsx)("div",{className:"container",children:Object(x.jsx)(F,{})})})}var G=c(43);function L(e){var t=e.component,c=Object(G.a)(e,["component"]),r=g().currentUser;return Object(x.jsx)(y.b,Object(I.a)(Object(I.a)({},c),{},{render:function(e){return r?Object(x.jsx)(t,Object(I.a)({},e)):Object(x.jsx)(y.a,{to:"/"})}}))}function H(){var e=Object(r.useRef)(),t=g().resetPassword,c=Object(r.useState)(""),a=Object(d.a)(c,2),n=a[0],s=a[1],i=Object(r.useState)(""),l=Object(d.a)(i,2),j=l[0],b=l[1],O=Object(r.useState)(!1),f=Object(d.a)(O,2),h=f[0],m=f[1];function p(){return(p=Object(u.a)(o.a.mark((function c(r){return o.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return r.preventDefault(),c.prev=1,b(""),s(""),m(!0),c.next=7,t(e.current.value);case 7:b("Check your inbox for further instructions"),c.next=13;break;case 10:c.prev=10,c.t0=c.catch(1),s("Failed to reset password");case 13:m(!1);case 14:case"end":return c.stop()}}),c,null,[[1,10]])})))).apply(this,arguments)}return Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{className:"text-center mb-4",children:"Password Reset"}),n&&Object(x.jsx)("div",{children:n}),j&&Object(x.jsx)("div",{children:j}),Object(x.jsxs)("form",{className:"",onSubmit:function(e){return p.apply(this,arguments)},children:[Object(x.jsx)("div",{className:"",children:Object(x.jsx)("input",{type:"email",placeholder:"Email Address",name:"email",ref:e,required:!0})}),Object(x.jsx)("button",{disabled:h,className:"",type:"submit",children:"Reset Password"})]}),Object(x.jsx)("div",{className:"",children:Object(x.jsx)(_.b,{to:"/login",children:"Login"})}),Object(x.jsxs)("div",{className:"",children:["Want a new account? ",Object(x.jsx)(_.b,{to:"/signup",children:"Sign Up"})]})]})}c(65);function W(){var e=Object(r.useRef)(),t=Object(r.useRef)(),c=Object(r.useRef)(),a=Object(r.useRef)(),n=g(),s=n.currentUser,i=n.updatePassword,o=n.updateEmail,l=n.userInfo,u=(n.getProfile,Object(r.useState)("")),j=Object(d.a)(u,2),b=j[0],O=j[1],f=Object(r.useState)(!1),h=Object(d.a)(f,2),m=h[0],p=h[1],v=Object(y.g)(),N=Object(r.useState)({firstname:"",email:"",phone:"",user_role:""}),S=Object(d.a)(N,2),C=S[0],k=S[1];return Object(r.useEffect)((function(){k(Object(I.a)(Object(I.a)({},C),{},{firstname:l.firstname,email:l.email,phone:l.phone,user_role:l.user_role}))}),[l]),Object(x.jsxs)("div",{className:"page",children:[Object(x.jsxs)("div",{className:"wrapper",children:[Object(x.jsxs)("div",{children:[Object(x.jsxs)("h2",{className:"text-center mb-4",children:["Hi, ",C.firstname]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("strong",{children:"Phone:"})," ",C.phone]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("strong",{children:"Email:"})," ",C.email]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("strong",{children:"Role:"})," ",C.user_role]})]}),b&&Object(x.jsx)("div",{children:b}),Object(x.jsxs)("form",{className:"form",onSubmit:function(e){if(e.preventDefault(),c.current.value!==a.current.value)return O("Passwords do not match");var r=[];p(!0),O(""),t.current.value!==s.email&&r.push(o(t.current.value)),c.current.value&&r.push(i(c.current.value)),Promise.all(r).then((function(){v.push("/dashboard")})).catch((function(){O("Failed to update account")})).finally((function(){p(!1)}))},children:[Object(x.jsx)("label",{className:"form-group",children:Object(x.jsx)("input",{type:"text",placeholder:"Name",ref:e,required:!0,defaultValue:C.firstname})}),Object(x.jsx)("label",{className:"form-group",children:Object(x.jsx)("input",{type:"email",ref:t,required:!0,defaultValue:s.email})}),Object(x.jsx)("label",{className:"form-group",children:Object(x.jsx)("input",{type:"password",ref:c,placeholder:"Leave blank to keep the same"})}),Object(x.jsx)("label",{className:"form-group",children:Object(x.jsx)("input",{type:"password",ref:a,placeholder:"Leave blank to keep the same"})}),Object(x.jsx)("input",{type:"submit",disabled:m,className:"submitBtn",value:"Update Account"})]})]}),Object(x.jsx)("div",{className:"confirmation",children:Object(x.jsx)(_.b,{to:"/dashboard",children:"Cancel"})})]})}var K="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAADeklEQVR42u2aW4hNYRTHj8MgSUrJtSb3McYREqVJjZAHvJgpSV7cpxlEEeUSNXnAi5CMpDjNjGlQQx5cHpQHkXgYpSGXGeZKLqHGtr5au/52Z59z9jlnr2+f2d9X/6ez91nr++1vf2t9a+2IZVmRMCtiABgABoABYAAYAAaAAWAAGAD/qZx02IPW9TcADZa38ZE0IMwA1JjanwDMJi1NQ80AYHMYN8G5AOBqGAEMJPUygPZ83Ady8Sc3YBWoaLA4wJrhB4BdVv6M/X4AmJNHAIr8ABAl9bCB76SaAOkCTL7Fz1S4KRlljdoAftX4CaAaDG0PEIBG8GuhnwBiYKguIJMfRvrJPrXxq+obAPXn3WysIyD5wCp4KGcljsO43IoDAKAW/FkuAaAKDFZqnvwgUhf78pU0WAJACQBo0AygFHy5JlURigL1LrdNR0gnAUC5ZEnsOhgu0TR5tQG3sg+/SSMkAVQCgCpNADAkN0sXRWeB8UZNAA6BD5ukAajl18nGuzXtA8/Y/l/SGB1l8Xp4AjHhyReC7Ue6+gI7wImdwgDwTLJXF4CZ4ESTMID7XqvUfoWhDnail+uGEpMfRepjuy91t8bqHDvxEgFdApvHdAPYprn0NV83gCKNk3/v5TjuZzr6iR36RTrOy1JCFUFpj8fhqcwL4/cBWwHAHdIBrtIM9cHWNK5FHuFcIKYbgAp9J1ze0U6ODLkom00k3XSx8zBRJ0gCQIEjHXYb57KEoA5en1PY+MbFEVEA+OSVgwdJK0greTP8Ar/vztCGOuO/hf9RGeBGUhn3J7FfqZKxCVIApkA2pooSYxNcMxkyRXXtG9Jrj+qBCZ52WUl74JrLUgCOgtG1aRZOshkq1A5JEopfQGVouASA2+DcyBS7tj1+kD54UDvcG/dQG1wkAeABGCxIct04uK4+g9fMHhc9rMgyCQC1aRZDlqVqWiaRyiP+8L2PPTRrCiUArAaDV1w2J1Umu5tqaabQLbi/NMl5xAb1XGoTVAnQU0dPbrQjcYk7MsRM7Czgmp/FEaGCu0E2YBV234GdNZJ5wHRolNrFyVZH3LZPbeOzsLMvQdLTAh9t2eOMjlS4mJ1xG0/c3kmPJ85qDnGJRh8nXlFdhyEVn7eQ7nG8buMlvx6Way40iXSKy2CqJfeKdD7dzpT5WtwAMAAMAAPAADAAwqt/D4MKMjuXoCkAAAAASUVORK5CYII=",M=c.p+"static/media/cory.c8cae190.png",V=c.p+"static/media/user.4870410b.svg";c(66);var J=function(){var e=g(),t=e.logout,c=e.currentUser,a=e.totalNumber,n=e.getProfile,s=e.userInfo,i=Object(y.g)(),l=Object(r.useState)(""),j=Object(d.a)(l,2),b=j[0],O=j[1],f=Object(r.useState)(!1),h=Object(d.a)(f,2),p=h[0],v=h[1];function N(){return(N=Object(u.a)(o.a.mark((function e(){return o.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return O(""),e.prev=1,e.next=4,t();case 4:i.push("/"),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(1),O("Failed to log out");case 10:case"end":return e.stop()}}),e,null,[[1,7]])})))).apply(this,arguments)}return Object(r.useEffect)((function(){c&&n()}),[m]),Object(r.useEffect)((function(){T.a.timeline({repeat:-1}).to("#logo-cory",2,{x:10,scale:.95,skewY:5,skewX:10,rotateY:10}).to("#logo-cory",2,{x:0,scale:1,skewY:-5,skewX:0,rotateY:0}).to("#logo-cory",2,{x:0,scale:1,skewY:0})}),[]),Object(x.jsx)("div",{className:"nav",children:Object(x.jsxs)("div",{className:"wrapper",children:[Object(x.jsx)(_.b,{to:"/",children:Object(x.jsx)("img",{src:M,id:"logo-cory",alt:"Coryphaena"})}),c?Object(x.jsx)(x.Fragment,{children:Object(x.jsxs)("div",{className:"menuItems",children:[s&&"admin"===s.user_role&&Object(x.jsx)(_.b,{to:"/additem",className:"navItem add-to-catalog",children:"+ \u0422\u043e\u0432\u0430\u0440"}),Object(x.jsx)(_.b,{to:"/cart",className:"navItem cart-pic",children:Object(x.jsxs)("div",{className:"menu__basket",children:[Object(x.jsx)("img",{src:K,alt:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),Object(x.jsx)("span",{children:a})]})}),Object(x.jsx)("div",{onClick:function(){return v(!p)},className:"menuIcon",children:Object(x.jsx)("img",{src:V,alt:""})}),p?Object(x.jsxs)("div",{className:"dMenuItems",onClick:function(){return v(!1)},children:[Object(x.jsx)(_.b,{to:"/profile",className:"menuItem",children:"Profile"}),Object(x.jsx)(_.b,{to:"/notifications",className:"menuItem",children:"Notifications"}),Object(x.jsx)(_.b,{to:"/wallet",className:"menuItem",children:"Wallet"}),Object(x.jsx)(_.b,{to:"/orders",className:"menuItem",children:"Orders"}),Object(x.jsx)(_.b,{to:"",className:"menuItem",onClick:function(){return N.apply(this,arguments)},children:"Log Out"}),b&&Object(x.jsx)("div",{children:b})]}):null]})}):Object(x.jsxs)("div",{className:"menuItems",children:[Object(x.jsx)(_.b,{to:"/cart",className:"navItem cart-pic",children:Object(x.jsxs)("div",{className:"menu__basket",children:[Object(x.jsx)("img",{src:K,alt:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),Object(x.jsx)("span",{children:a})]})}),Object(x.jsx)(_.b,{to:"/login",className:"navItem",children:"\u0412\u043e\u0439\u0442\u0438"})]})]})})};c(67);var X=function(){return Object(x.jsx)("div",{className:"page social",children:Object(x.jsxs)("div",{className:"wrapper",children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"Telegram"}),Object(x.jsx)("h3",{children:"Post"}),Object(x.jsx)("h3",{children:"Post"}),Object(x.jsx)("h3",{children:"Post"})]}),Object(x.jsxs)("div",{children:[Object(x.jsx)("h1",{children:"Instagram"}),Object(x.jsx)("h3",{children:"Post"}),Object(x.jsx)("h3",{children:"Post"}),Object(x.jsx)("h3",{children:"Post"})]})]})})};c(39);var Y=function(e){var t=e.title,c=e.weight,r=e.price,a=e.quantity,n=e.addQuantity,s=e.minusQuantity,i=e.deleteCartItem;return Object(x.jsxs)("div",{className:"cart-item",children:[Object(x.jsx)("button",{className:"delete-button",onClick:i,children:"X"}),Object(x.jsx)("div",{className:"cart__title title-size",children:t}),Object(x.jsx)("div",{className:"cart__weight weight-size",children:c}),Object(x.jsxs)("div",{className:"cart__quantity-wrap",children:[Object(x.jsx)("button",{onClick:n,children:"+"}),Object(x.jsx)("div",{className:"cart__quantity quantity-size",children:a}),Object(x.jsx)("button",{onClick:s,children:"-"})]}),Object(x.jsxs)("div",{className:"cart__price price-size",children:[" ",r," \u20bd"]})]})};var Q=function(){var e=Object(y.g)(),t=g(),c=t.cart,r=t.totalWeight,a=t.totalPrice,n=t.totalNumber,s=t.addQuantity,i=t.minusQuantity,o=t.deleteCartItem;return Object(x.jsxs)("div",{className:"cart",children:[Object(x.jsx)("h2",{className:"cart__header",children:"\u041a\u043e\u0440\u0437\u0438\u043d\u0430"}),Object(x.jsxs)("div",{className:"cart__itemWrapper",children:[Object(x.jsxs)("div",{className:"cart-item cart-item--decoration",children:[Object(x.jsx)("div",{className:"cart__subtitles title-size",children:"X"}),Object(x.jsx)("div",{className:"cart__subtitles title-size",children:"\u0422\u043e\u0432\u0430\u0440"}),Object(x.jsx)("div",{className:"cart__subtitles weight-size",children:"\u0412\u0435\u0441"}),Object(x.jsx)("div",{className:"cart__subtitles quantity-size",children:"\u041a\u043e\u043b\u0438\u0447\u0435\u0441\u0442\u0432\u043e"}),Object(x.jsx)("div",{className:"cart__subtitles price-size",children:"\u0426\u0435\u043d\u0430"})]}),c.map((function(e){return Object(x.jsx)(Y,{id:e.id,title:e.title,weight:e.weight,price:e.price,image_URL:e.image_URL,quantity:e.quantity,addQuantity:function(){return s(e.id)},minusQuantity:function(){return i(e.id)},deleteCartItem:function(){return o(e.id)}},e.id)}))]}),Object(x.jsxs)("div",{className:"cart__buttons",children:[Object(x.jsxs)("div",{className:"cart__total",children:[Object(x.jsx)("div",{children:"\u0422\u043e\u0432\u0430\u0440\u043e\u0432 \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0435: "}),Object(x.jsxs)("div",{children:[n," \u0448\u0442"]})]}),Object(x.jsxs)("div",{className:"cart__total",children:[Object(x.jsx)("div",{children:"\u041e\u0431\u0449\u0438\u0439 \u0432\u0435\u0441: "}),Object(x.jsxs)("div",{children:[r," \u0433"]})]}),Object(x.jsxs)("div",{className:"cart__total",children:[Object(x.jsx)("div",{children:"\u0426\u0435\u043d\u0430 (\u0438\u0442\u043e\u0433\u043e): "}),Object(x.jsxs)("div",{children:[a," \u20bd"]})]})]}),0===a?Object(x.jsx)("button",{className:"cart__createOrder",onClick:function(){e.push("/")},children:"\u0414\u041e\u0411\u0410\u0412\u0418\u0422\u042c \u0422\u041e\u0412\u0410\u0420"}):Object(x.jsx)("button",{className:"cart__createOrder",onClick:function(){e.push("/delivery-info")},children:"\u041e\u0424\u041e\u0420\u041c\u0418\u0422\u042c \u0417\u0410\u041a\u0410\u0417"})]})};c(68);var z=function(){var e=Object(y.g)(),t=g(),c=t.goodiId,a=t.goodsToCart,n=t.getCatalogueItemInfo,s=t.deleteCatalogueItem,i=t.goodiInfo,o=t.userInfo;return t.currentUser,Object(r.useEffect)((function(){m&&n()}),[m]),Object(x.jsx)("div",{className:"details",children:i&&Object(x.jsxs)("div",{className:"details__wrap",children:[Object(x.jsx)("img",{className:"imagebox",src:i.url,alt:"Goodi image"}),Object(x.jsxs)("div",{className:"details__info",children:[Object(x.jsx)("h3",{className:"details__name",children:i.title}),Object(x.jsxs)("h3",{className:"details__weight",children:[i.weight," \u0433"]}),Object(x.jsxs)("h3",{className:"details__price",children:[i.price," \u0440\u0443\u0431"]}),Object(x.jsx)("br",{}),Object(x.jsx)("p",{className:"details__about",children:i.details}),o&&"admin"===o.user_role?Object(x.jsxs)("div",{children:[Object(x.jsx)("button",{type:"button",className:"details__button",onClick:function(){return s(c),void e.push("/")},children:"X - \u0423\u0434\u0430\u043b\u0438\u0442\u044c \u0442\u043e\u0432\u0430\u0440"}),Object(x.jsx)("button",{type:"button",className:"details__button",onClick:function(){return t=c,void e.push("/edit/".concat(t));var t},children:"- \u041e\u0442\u0440\u0435\u0434\u0430\u043a\u0442\u0438\u0440\u043e\u0432\u0430\u0442\u044c \u0442\u043e\u0432\u0430\u0440"})]}):Object(x.jsx)("button",{type:"button",className:"details__button add-to-cart",onClick:function(){return a(c,i.title,i.weight,i.price,i.url)},children:"\u0414\u043e\u0431\u0430\u0432\u0438\u0442\u044c \u0432 \u043a\u043e\u0440\u0437\u0438\u043d\u0443"})]})]})})};c(69);var Z=function(){return g().getProfile,Object(x.jsx)("div",{children:"You can see orders here \\\\"})};var $=function(){return Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{children:"Congratulations!"}),Object(x.jsx)("h2",{children:"Order created"})]})};var ee=function(){var e=Object(y.g)(),t=g().createOrder;return Object(x.jsxs)("div",{children:[Object(x.jsx)("div",{children:"\u0424\u0418\u041e"}),Object(x.jsx)("div",{children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d"}),Object(x.jsx)("div",{children:"\u0413\u043e\u0440\u043e\u0434"}),Object(x.jsx)("div",{children:"\u0420\u0430\u0439\u043e\u043d"}),Object(x.jsx)("div",{children:"\u0423\u043b\u0438\u0446\u0430"}),Object(x.jsx)("div",{children:"\u0414\u043e\u043c\u0430"}),Object(x.jsx)("div",{children:"\u041f\u043e\u0434\u044a\u0435\u0437\u0434"}),Object(x.jsx)("div",{children:"\u041a\u0432\u0430\u0440\u0442\u0438\u0440\u0430"}),Object(x.jsx)("div",{children:"\u041e\u0442\u043c\u0435\u0442\u0438\u0442\u044c \u0442\u043e\u0447\u043a\u0443 \u043d\u0430 \u043a\u0430\u0440\u0442\u0435"}),Object(x.jsx)("button",{onClick:function(){return t(),void e.push("/confirm-order")},children:"\u0413\u043e\u0442\u043e\u0432\u043e"})]})};var te=function(){return Object(x.jsx)(_.a,{children:Object(x.jsxs)(N,{children:[Object(x.jsx)(J,{}),Object(x.jsxs)(y.d,{children:[Object(x.jsx)(y.b,{exact:!0,path:"/",component:B}),Object(x.jsx)(y.b,{exact:!0,path:"/goodi/:id",component:z}),Object(x.jsx)(y.b,{exact:!0,path:"/socialmedia",component:X}),Object(x.jsx)(y.b,{path:"/cart",component:Q}),Object(x.jsx)(y.b,{path:"/delivery-info",component:ee}),Object(x.jsx)(y.b,{path:"/confirm-order",component:$}),Object(x.jsx)(y.b,{path:"/login",component:C}),Object(x.jsx)(y.b,{path:"/signup",component:S}),Object(x.jsx)(y.b,{path:"/forgot-password",component:H}),Object(x.jsx)(L,{exact:!0,path:"/notifications",component:k}),Object(x.jsx)(L,{exact:!0,path:"/orders",component:Z}),Object(x.jsx)(L,{exact:!0,path:"/profile",component:W}),Object(x.jsx)(L,{exact:!0,path:"/additem",component:E}),Object(x.jsx)(L,{exact:!0,path:"/edit/:id",component:R})]})]})})};s.a.render(Object(x.jsx)(a.a.StrictMode,{children:Object(x.jsx)(te,{})}),document.getElementById("root"))}},[[70,1,2]]]);
//# sourceMappingURL=main.da15641e.chunk.js.map